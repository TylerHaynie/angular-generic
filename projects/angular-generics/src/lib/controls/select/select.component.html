<ag-input [label]="label" [labelPos]="labelPos"
          [disabled]="disabled" [required]="required">

  <!-- enabled -->
  <ng-container *ngIf="!disabled">
    <select #ddbx
            [(ngModel)]="value"
            [compareWith]="compareSelect"
            (change)="selectionChanged(ddbx.value)"
            [attr.required]="required ? '' : null">
      <option *ngIf="!required" [ngValue]="null"></option>
      <option *ngFor="let item of options" [ngValue]="item">
        {{item[display]}}</option>
    </select>
  </ng-container>

  <!-- disabled -->
  <ng-container *ngIf="disabled">
    <input disabled [type]="'text'"
           [attr.required]="required ? '' : null"
           [value]="display && value ? value[display] : ''">
  </ng-container>

</ag-input>